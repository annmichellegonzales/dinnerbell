<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/headHome :: headHome('Restaruant Details')"></head>
<style>
    .flex-box {
        color: #9effec;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        max-width: 1650px;
        width: 100%;
        padding: 50px 110px 130px;
        position: -ms-device-fixed;
        margin: auto;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .row {
        justify-content: center;
    }

    p, a {
        font-size: x-large;
        font-weight: lighter;
    }

</style>
<body>
<nav th:replace="partials/navbar :: navbar"></nav>
<h1 style="text-align: center; color: white" th:text="${restaurant.restaurant_name}"></h1>
<div class="flex-box mt-5 p-5" style="text-align: center">
    <div class="container">
        <div class="row align-items-start">
            <div class="col">
                <div class="restaurant-page-image">
                    <div th:replace="partials/carousel :: carousel"></div>
                    <form th:action="@{'/restaurant/details/' + ${restaurant.id}}" th:method="post">
                        <!--                FAVORITES BUTTON-->
                        <div sec:authorize="isAuthenticated()" th:if="${!restaurant.favorites.contains(user)}">
                            <button type="submit" class="btn btn-danger">Add to Favorites</button>
                        </div>
                        <div sec:authorize="isAuthenticated()" th:unless="${!restaurant.favorites.contains(user)}">
                            <button id="favoriteBtn" type="submit" class="btn btn-secondary">Saved to Favorites</button>
                        </div>
                    </form>

                </div>
            </div>
            <div class="col">
                <div sec:authorize="isAuthenticated()">
                    <h2>How was your visit? Let us know!</h2>

                    <a class="btn btn-warning" th:href="@{/review/{id}(id=${restaurant.id})}" role="button">Leave a
                        Review</a>
                    <a class="btn btn-warning" th:href="@{/reviews/byRestaurant/{id}(id=${restaurant.id})}"
                       role="button">View
                        Reviews</a>
                    <br><br>
                    <p th:text="${restaurant.description}"></p>
                </div>
            </div>

        </div>

        <div class="row justify-content-center mt-2">
            <div class="col-4">
                <h2>Hours: </h2>
                <p th:text="${restaurant.hours}"></p>
                <h2>Phone: </h2>
                <a th:href="'tel:+' + '${restaurants.phone_number}'"><span th:text="${restaurant.phone_number}"></span></a>
                <br>
                <h2>Address: </h2>
                <p th:text=" ${restaurant.street_address} + ', ' + ${restaurant.city} + ', ' + ${restaurant.state} + ', ' + ${restaurant.zip_code}"></p>
            </div>

            <div class="col-4 details">
                <div th:if="${!restaurant.website_link.isEmpty()}">
                    <h2>Website: </h2>
                    <a th:href="${restaurant.website_link}">Link to <span
                            th:text="${restaurant.restaurant_name}"></span></a>
                </div>
                <div th:if="${!restaurant.menu_link.isEmpty()}">
                    <h2>Menu: </h2>
                    <a th:href="${restaurant.menu_link}">Link Menu</a>
                </div>
                <div th:if="${!restaurant.elder_eats_link.isEmpty()}">
                    <h2>ElderEats Link: </h2>
                    <a th:href="${restaurant.elder_eats_link}">Elder Eats</a>
                </div>

            </div>
        </div>
    </div>
</div>

</div>

</div>

<div class="bg_img">
    <img src="/img/bg.png">
    <!--  <div class="social">-->
    <!--    <i class="fa fa-concierge-bell" aria-hidden="true"></i>-->
    <!--    <i class="fa fa-bell" aria-hidden="true"></i>-->

    <!--  </div>-->
</div>


<th:block th:replace="partials/homeScripts :: homeScripts"></th:block>
</body>
</html>